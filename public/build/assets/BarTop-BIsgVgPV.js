import{r as p,I as oo,i as eo,k as ro,l as ao,j as i,g as J,s as to}from"./app-lhdY4JXM.js";import{e as M,g as $,s as A,S as no,f as j,a as g,b as _,_ as z,k as I,m as F,i as O,B as so,I as io,v as lo}from"./ButtonBase-DMtFuzan.js";import{r as P}from"./createSvgIcon-DnVvWl4V.js";import{M as co,F as uo}from"./Modal-BYqVtWGo.js";import{B}from"./Box-CauVRr8L.js";import{T as po}from"./ThemeProvider-x3DK2bm9.js";import{I as H}from"./IconButton-BSz02EAa.js";function go(){if(console&&console.warn){for(var o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const S={};function L(){for(var o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];typeof e[0]=="string"&&S[e[0]]||(typeof e[0]=="string"&&(S[e[0]]=new Date),go(...e))}const Y=(o,e)=>()=>{if(o.isInitialized)e();else{const r=()=>{setTimeout(()=>{o.off("initialized",r)},0),e()};o.on("initialized",r)}};function W(o,e,r){o.loadNamespaces(e,Y(o,r))}function q(o,e,r,t){typeof r=="string"&&(r=[r]),r.forEach(n=>{o.options.ns.indexOf(n)<0&&o.options.ns.push(n)}),o.loadLanguages(e,Y(o,t))}function fo(o,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const t=e.languages[0],n=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(t.toLowerCase()==="cimode")return!0;const l=(c,u)=>{const s=e.services.backendConnector.state[`${c}|${u}`];return s===-1||s===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!l(e.isLanguageChangingTo,o)?!1:!!(e.hasResourceBundle(t,o)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||l(t,o)&&(!n||l(a,o)))}function bo(o,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(L("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(o,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,o))return!1}}):fo(o,e,r)}const xo=(o,e)=>{const r=p.useRef();return p.useEffect(()=>{r.current=o},[o,e]),r.current};function K(o,e,r,t){return o.getFixedT(e,r,t)}function vo(o,e,r,t){return p.useCallback(K(o,e,r,t),[o,e,r,t])}function ho(o){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:t,defaultNS:n}=p.useContext(oo)||{},a=r||t||ao();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new eo),!a){L("You will need to pass in an i18next instance by using initReactI18next");const b=(m,v)=>typeof v=="string"?v:v&&typeof v=="object"&&typeof v.defaultValue=="string"?v.defaultValue:Array.isArray(m)?m[m.length-1]:m,h=[b,{},!1];return h.t=b,h.i18n={},h.ready=!1,h}a.options.react&&a.options.react.wait!==void 0&&L("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...ro(),...a.options.react,...e},{useSuspense:c,keyPrefix:u}=l;let s=o;s=typeof s=="string"?[s]:s||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(s);const d=(a.isInitialized||a.initializedStoreOnce)&&s.every(b=>bo(b,a,l)),y=vo(a,e.lng||null,l.nsMode==="fallback"?s:s[0],u),N=()=>y,C=()=>K(a,e.lng||null,l.nsMode==="fallback"?s:s[0],u),[x,f]=p.useState(N);let k=s.join();e.lng&&(k=`${e.lng}${k}`);const G=xo(k),T=p.useRef(!0);p.useEffect(()=>{const{bindI18n:b,bindI18nStore:h}=l;T.current=!0,!d&&!c&&(e.lng?q(a,e.lng,s,()=>{T.current&&f(C)}):W(a,s,()=>{T.current&&f(C)})),d&&G&&G!==k&&T.current&&f(C);function m(){T.current&&f(C)}return b&&a&&a.on(b,m),h&&a&&a.store.on(h,m),()=>{T.current=!1,b&&a&&b.split(" ").forEach(v=>a.off(v,m)),h&&a&&h.split(" ").forEach(v=>a.store.off(v,m))}},[a,k]),p.useEffect(()=>{T.current&&d&&f(N)},[a,u,d]);const R=[x,a,d];if(R.t=x,R.i18n=a,R.ready=d,d||!d&&!c)return R;throw new Promise(b=>{e.lng?q(a,e.lng,s,()=>b()):W(a,s,()=>b())})}function mo(o){return M("MuiAppBar",o)}$("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Co=["className","color","enableColorOnDark","position"],yo=o=>{const{color:e,position:r,classes:t}=o,n={root:["root",`color${j(e)}`,`position${j(r)}`]};return F(n,mo,t)},w=(o,e)=>o?`${o==null?void 0:o.replace(")","")}, ${e})`:e,ko=A(no,{name:"MuiAppBar",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[`position${j(r.position)}`],e[`color${j(r.color)}`]]}})(({theme:o,ownerState:e})=>{const r=o.palette.mode==="light"?o.palette.grey[100]:o.palette.grey[900];return g({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!o.vars&&g({},e.color==="default"&&{backgroundColor:r,color:o.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:o.palette[e.color].main,color:o.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},o.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&g({backgroundColor:"transparent",color:"inherit"},o.palette.mode==="dark"&&{backgroundImage:"none"})),o.vars&&g({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?o.vars.palette.AppBar.defaultBg:w(o.vars.palette.AppBar.darkBg,o.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?o.vars.palette.text.primary:w(o.vars.palette.AppBar.darkColor,o.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?o.vars.palette[e.color].main:w(o.vars.palette.AppBar.darkBg,o.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?o.vars.palette[e.color].contrastText:w(o.vars.palette.AppBar.darkColor,o.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),To=p.forwardRef(function(e,r){const t=_({props:e,name:"MuiAppBar"}),{className:n,color:a="primary",enableColorOnDark:l=!1,position:c="fixed"}=t,u=z(t,Co),s=g({},t,{color:a,position:c,enableColorOnDark:l}),d=yo(s);return i.jsx(ko,g({square:!0,component:"header",ownerState:s,elevation:4,className:I(d.root,n,c==="fixed"&&"mui-fixed"),ref:r},u))});function jo(o){return M("MuiToolbar",o)}$("MuiToolbar",["root","gutters","regular","dense"]);const No=["className","component","disableGutters","variant"],Ro=o=>{const{classes:e,disableGutters:r,variant:t}=o;return F({root:["root",!r&&"gutters",t]},jo,e)},Bo=A("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(({theme:o,ownerState:e})=>g({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:o,ownerState:e})=>e.variant==="regular"&&o.mixins.toolbar),wo=p.forwardRef(function(e,r){const t=_({props:e,name:"MuiToolbar"}),{className:n,component:a="div",disableGutters:l=!1,variant:c="regular"}=t,u=z(t,No),s=g({},t,{component:a,disableGutters:l,variant:c}),d=Ro(s);return i.jsx(Bo,g({as:a,className:I(d.root,n),ref:r,ownerState:s},u))});var E={},Io=O;Object.defineProperty(E,"__esModule",{value:!0});var Q=E.default=void 0,zo=Io(P()),Lo=i;Q=E.default=(0,zo.default)((0,Lo.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"}),"Language");var D={},Mo=O;Object.defineProperty(D,"__esModule",{value:!0});var X=D.default=void 0,$o=Mo(P()),Ao=i;X=D.default=(0,$o.default)((0,Ao.jsx)("path",{d:"M13 3h-2v10h2zm4.83 2.17-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83"}),"PowerSettingsNew");const _o=()=>[{name:"Català",value:"ca"},{name:"Español",value:"es"},{name:"English",value:"en"}];function Fo({show:o,setShow:e,language:r,languages:t,handleLanguage:n}){const a=J(),l={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:400,bgcolor:a?"black":"background.paper",border:a?"1px solid #fff":"1px solid #000",borderRadius:"5px",boxShadow:24,p:4,m:1},c=()=>{e(!1)},u=t?t.length:0,s=u-1;return i.jsx(co,{open:o,onClose:c,"aria-labelledby":"language","aria-describedby":"language",children:i.jsx(B,{sx:l,children:i.jsx("div",{className:"text-center",children:u>0&&t.map((d,y)=>i.jsx("div",{className:`language-item ${y!==s?"border-b":""}`,id:d.value,onClick:n,children:i.jsx("button",{className:d.value===r?"language-item-selected":"",children:d.name})}))})})})}function Oo(o){return M("MuiFab",o)}const V=$("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Po=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Eo=o=>{const{color:e,variant:r,classes:t,size:n}=o,a={root:["root",r,`size${j(n)}`,e==="inherit"?"colorInherit":e]},l=F(a,Oo,t);return g({},t,l)},Do=A(so,{name:"MuiFab",slot:"Root",shouldForwardProp:o=>io(o)||o==="classes",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[r.variant],e[`size${j(r.size)}`],r.color==="inherit"&&e.colorInherit,e[j(r.size)],e[r.color]]}})(({theme:o,ownerState:e})=>{var r,t;return g({},o.typography.button,{minHeight:36,transition:o.transitions.create(["background-color","box-shadow","border-color"],{duration:o.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(o.vars||o).zIndex.fab,boxShadow:(o.vars||o).shadows[6],"&:active":{boxShadow:(o.vars||o).shadows[12]},color:o.vars?o.vars.palette.text.primary:(r=(t=o.palette).getContrastText)==null?void 0:r.call(t,o.palette.grey[300]),backgroundColor:(o.vars||o).palette.grey[300],"&:hover":{backgroundColor:(o.vars||o).palette.grey.A100,"@media (hover: none)":{backgroundColor:(o.vars||o).palette.grey[300]},textDecoration:"none"},[`&.${V.focusVisible}`]:{boxShadow:(o.vars||o).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:o,ownerState:e})=>g({},e.color!=="inherit"&&e.color!=="default"&&(o.vars||o).palette[e.color]!=null&&{color:(o.vars||o).palette[e.color].contrastText,backgroundColor:(o.vars||o).palette[e.color].main,"&:hover":{backgroundColor:(o.vars||o).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(o.vars||o).palette[e.color].main}}}),({theme:o})=>({[`&.${V.disabled}`]:{color:(o.vars||o).palette.action.disabled,boxShadow:(o.vars||o).shadows[0],backgroundColor:(o.vars||o).palette.action.disabledBackground}})),Uo=p.forwardRef(function(e,r){const t=_({props:e,name:"MuiFab"}),{children:n,className:a,color:l="default",component:c="button",disabled:u=!1,disableFocusRipple:s=!1,focusVisibleClassName:d,size:y="large",variant:N="circular"}=t,C=z(t,Po),x=g({},t,{color:l,component:c,disabled:u,disableFocusRipple:s,size:y,variant:N}),f=Eo(x);return i.jsx(Do,g({className:I(f.root,a),component:c,disabled:u,focusRipple:!s,focusVisibleClassName:I(f.focusVisible,d),ownerState:x,ref:r},C,{classes:f,children:n}))});var U={},Go=O;Object.defineProperty(U,"__esModule",{value:!0});var Z=U.default=void 0,Ho=Go(P()),So=i;Z=U.default=(0,Ho.default)((0,So.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");const Wo=["getTrigger","target"];function qo(o,e){const{disableHysteresis:r=!1,threshold:t=100,target:n}=e,a=o.current;return n&&(o.current=n.pageYOffset!==void 0?n.pageYOffset:n.scrollTop),!r&&a!==void 0&&o.current<a?!1:o.current>t}const Vo=typeof window<"u"?window:null;function Jo(o={}){const{getTrigger:e=qo,target:r=Vo}=o,t=z(o,Wo),n=p.useRef(),[a,l]=p.useState(()=>e(n,t));return p.useEffect(()=>{const c=()=>{l(e(n,g({target:r},t)))};return c(),r.addEventListener("scroll",c,{passive:!0}),()=>{r.removeEventListener("scroll",c,{passive:!0})}},[r,e,JSON.stringify(t)]),a}const Yo=lo({components:{MuiIconButton:{variants:[{props:{variant:"black"},style:{color:"black"}},{props:{variant:"white"},style:{color:"white"}},{props:{variant:"red"},style:{color:"red"}}]}}});function Ko({user:o,t:e,from:r}){const{i18n:t}=ho("global");J();const n=_o(),[a,l]=p.useState(!1),c=x=>{l(!0)},[u,s]=p.useState(t.language),d=x=>{x.preventDefault(),l(!1);const f=x.currentTarget.id;t.changeLanguage(f),to(f),s(f),axios.put(route("language.update"),{language:f}).then(function(k){}).catch(function(k){})},y=()=>{window.location=route("logout.get")},N=Jo({target:window||void 0,disableHysteresis:!0,threshold:100}),C=x=>{window.scrollTo({top:0,behavior:"smooth"})};return i.jsxs("div",{className:"mx-1 mt-1",children:[i.jsx(Fo,{show:a,setShow:l,language:u,languages:n,handleLanguage:d}),i.jsx(po,{theme:Yo,children:i.jsx(To,{position:"static",sx:{width:"100%",borderRadius:"5px 5px 5px 5px",padding:"0px"},children:i.jsxs(wo,{sx:{padding:"0px 5px 0px 5px"},children:[i.jsx("a",{href:"/",children:i.jsx(B,{component:"img",sx:{height:60},alt:"amicsgirona.cat",src:"/amicsgirona_favicon.png",id:"logo"})}),i.jsx(B,{sx:{flexGrow:1}}),i.jsx("a",{href:"/",children:i.jsx("span",{id:"logo-text",children:"amicsgirona"})}),i.jsx(B,{sx:{flexGrow:1}}),i.jsx(H,{color:"primary",onClick:c,id:"language",children:i.jsx(Q,{})}),o&&i.jsx(H,{variant:"red",color:"primary",onClick:y,id:"logout",sx:{marginLeft:"5px"},children:i.jsx(X,{})})]})})}),i.jsx(uo,{in:N,children:i.jsx(B,{onClick:C,role:"presentation",sx:{position:"fixed",bottom:80,right:16},children:i.jsx(Uo,{size:"small",sx:{color:"#FF8C00",bgcolor:"white"},children:i.jsx(Z,{})})})})]})}const te=Object.freeze(Object.defineProperty({__proto__:null,default:Ko},Symbol.toStringTag,{value:"Module"}));export{Ko as B,te as a,ho as u};
